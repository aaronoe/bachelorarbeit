\section{Optimality criteria}\label{sec:optimality}
Looking at the previously presented problems, it becomes clear that there are different objective functions or optimality criteria for such matchings. For instance, in the stable marriage problem, matchings are primarily judged by the stability characteristic. However such a characteristic does not make sense in the case of the student-seminar problem, since stability assumes both-sided preferences. For that very reason, different criteria have to be used for judging the quality of a matching.

Intuitively, when thinking about matching students to seminars, it would be desirable to match as many students as possible, as well as matching the students to their first choice, but at the same time to remain fair and resistant to manipulation. To formalize these requirements, a few criteria have been discussed in the literature, which will be helpful for comparing different approaches. 

\subsection{Maximum cardinality}
The goal of the maximum cardinality matching problem is finding a matching $M$ on a graph $G=(V=(X, Y), E)$, so that $|M|$ is maximal \cite{GraphTheoryIntro}. Consequently, maximum cardinality as an optimality criteria means that a matching is ideal if the number of students that are matched is maximized among all possible matchings. It should be noted here that the students' preferences are not considered when computing the maximum cardinality matching. As a matter of fact, it is possible that multiple matchings of the same cardinality exist, where one of the matchings could be better in the sense of a different optimality criteria. Therefore, maximum cardinality may be desirable, but should be used in conjunction with a different criteria, as it does not consider student preferences. This criteria is also often referred to as "efficiency" in the literature, however we will use the term maximum-cardinality as it is more specific.

\subsection{Pareto-Optimality}
"Pareto-optimality" or "Pareto-efficiency" is a commonly used term in economics to describe the state of resource allocations. Intuitively an allocation, or in our case a matching, is Pareto optimal iff no improvement can be made to a single individual, without worsening the situation for other individuals. Additionally a matching, in which a subset of students $S'$ would be better off by swapping their seminars is not Pareto optimal.
In order to more formally define Pareto-optimality, we must first define student preferences more formally: 
Given two matchings $M, M'$ and a student $s \in S$, the student $s$ prefers $M'$ over $M$ in the following cases:
\begin{enumerate}
    \item s is matched in $M'$ and unmatched in $M$, or
    \item s is matched in both $M'$ and $M$, however prefers $M'(a)$ over $M(a)$
\end{enumerate}
Using this definition, we now define Pareto optimality as follows: given an instance $I$ of a matching problem and its set of possible matchings $\mathcal{M}$, we define a relation $\succ$ on $\mathcal{M}$, where given two matchings $M, M' \in \mathcal{M}$ the following holds true: $M' \succ M$ if no students prefers $M$ to $M'$, but some student prefers $M'$ over $M$. Consequently a matching $M' \in \mathcal{M}$ is called Pareto-optimal iff there exists no other matching $M \in \mathcal{M}$, such that $M' \succ M$ \cite{algorithmics}. A Pareto-optimal matching always exists for any instance of a matching problem and can be efficiently computed using one of various algorithms. A simple greedy algorithm uses the \emph{random serial-dictatorship} mechanism to draw each agent in random order and lets them select their most-preferred, available item from their preference list (details in section \ref{algo-rsd}) \cite{RothTwoSided, SerialDictatorship}. However, the greedy algorithm does not always produce a Pareto-optimal matching of maximum cardinality, which would be desirable in student-seminar matching \cite{Abraham:Pacha}.

\subsection{Popularity}
In the context of matching with one-sided preference lists, using an optimality criteria like Stability, which is based on the preferences of both parties, does not apply. Instead, a commonly used criteria is a matching $M$'s Popularity, which indicates that more students prefer that matching $M$ over any other possible matching \cite{ManlovePopularMatchings}. Given the definition of the student-seminar matching problem, we can formally define Popularity as follows:
Let $P(M', M)$ be the set of students who prefer $M'$ over $M$. A matching $M'$ is said to be more popular than $M$, denoted by $M' \succ M$, iff $|P(M', M)| > |P(M, M')|$. That concludes that a matching $M'$ is popular, iff there is no other matching $M$ that is more popular than $M'$, i.e. $M' \succ M$ \cite{Klaus, AbrahamPopular}. Because of that definition, this criteria is often also referred to as the majority assignment \cite{Gardenfors}.

Using this definition, we can see that every popular matching also is a pareto-optimal matching. Given a popular matching $M'$ and any matching $M$ for an instance $I$ of the problem, $M'$ is pareto-optimal if $P(M, M') = 0$ and $P(M', M) \geq 1$, which obviously implies that $M'$ is popular as well \cite{Klaus}.

It is important to note that a popular matching's cardinality could be smaller than the maximum cardinality, meaning that, in the case of student-seminar matchings, a group of students could be left unassigned in favor of the majority of the students having a match that they prefer.
Additionally, a popular matching, unlike a pareto-optimal matching, does not always exist. To illustrate this, let us consider the following instance: $S=\{s_1, s_2, s_3\}$, $T=\{t_1, t_2, t_3\}$, where each student has the same preference list, being $t_1 < t_2 < t_3$, and each seminar $t_i \in T$ has a capacity of 1. Given the following matchings, we can confirm that there exists no popular matching for the given instance: 
\begin{enumerate}
    \item $M_1=\{(s_1, t_1), (s_2, t_2), (s_3, t_3)\}$
    \item $M_2=\{(s_1, t_3), (s_2, t_1), (s_3, t_2)\}$
    \item $M_3=\{(s_1, t_2), (s_2, t_3), (s_3, t_1)\}$
\end{enumerate}
It is clear that $M_2$ is more popular than $M_1$, $M_3$ is more popular than $M_2$ and $M_1$ is more popular than $M_3$ \cite{AbrahamPopular}.

\subsection{Profile-based optimality}
Contrary to Popularity and Pareto-optimality, in which the students' satisfaction with a matching is compared, we should also examine the structure of a matching by defining the profile of a matching and comparing it. Intuitively the profile of a matching $M$ is a vector whose $i$th component indicates the number of students obtaining their $i$th-choice seminar in $M$, according to their preference list. 

Formally, let $I$ be an instance and $\mathcal{M}$ the set of its matchings. Given a matching $M \in \mathcal{M}$ with the set of students $S$ and seminars $T$, we define the regret $r(M)$ of $M$ as follows:
$r(M) = \max \{rank(s_i, t_j): (s_i, t_j)\in M\, s_i \in S, t_j \in T\}$, where for every match $(s_i, t_j) \in M$, $rank(s_i, t_j)$ is defined as the position of $t_j$ on $s_i$'s preference list. The profile of $M$ is now defined as a vector $\langle p_1,..., p_r* \rangle$, with $r^* = r(M)$ and for each $k \in [1,r^*]$, the $k$th component is defined as: $p_k=|\{(s_i, t_j) \in M: rank(s_i, t_j) = k\}|$ \cite{algorithmics}.

Using the defintion of a matching's profile, it is now possible to define a matching as rank-maximal as follows: A matching $M$ is rank-maximal, if its profile $p(M)$ is lexicographically maximal over all possible matchings in $\mathcal{M}$. That means that the number of students in $M$ who are matched to their first choice is maximal among all $M' \in \mathcal{M}$; taking that into consideration, the number of students who are matched to their 2nd choice is maximum among all matchings, and so on.

\subsection{Strategy-Proofness}
// TODO: move this to a different section and potentially rewrite as truthful
\newline

The aforementioned criteria all primarily consider the structure of a matching to evaluate quality and not the properties of a matching mechanism, i.e. algorithm. An important question to consider, however, is if the agents can manipulate the outcome of an algorithm by not truthfully disclosing their preferences - indeed, in the setting of matching residents to hospitals in the US, a previously used algorithm allowed students to improve their outcome of the algorithm by not supplying their real preferences \cite{Gusfield}. In the literature, the term for a mechanism, wherein no agent can benefit from misrepresenting their preferences, is called strategy-proof \cite{Klaus}. Such mechanisms are of high interest for most matching problems, since preference-based optimality criteria, like the ones previously mentioned, would certainly lose some significance if the mechanism used to compute them is not strategy-proof.
For instance, it has been shown \cite{ROTH1982127} that for the stable marriage problem with incomplete preferences, there exists no matching mechanism that both produces a popular matching and is strategy-proof.
To formalize this, we will use a game-theory definition of strategy-proofness, which goes as follows: it is a weakly dominant strategy for each agent to report their true preference list \cite{Klaus}.

\subsection{Application to student-seminar matching}\label{criteria-application}
Given the problem description of student-seminar matching, it would be desirable to find a matching that has the following properties:
\begin{enumerate}
    \item \textbf{Maximum Cardinality:} As few students as possible should be left unmatched.
    \item \textbf{Pareto Optimality:} It should not be possible for any of the students to improve their situation without affecting other students negatively. This means that there exists no opportunity for anyone to perform a trade or get matched to a new seminar without impacting some other student.
    \item \textbf{Popularity:} The number of students who are satisfied with their match should be maximal among all possible matchings.
    \item \textbf{Rank Maximality:} As many students as possible should be matched to their first choice or if not possible, their second choice, and so on.
    \item \textbf{Stratey-proofness:} Students should not be able to benefit, i.e. increase their chances of being matched to their top-preference, by lying about their true-preferences. A matching mechanism should also not encourage students to supply short preference lists to improve their chances of getting matched to their.
\end{enumerate}
As we have already seen, there does not always exists a popular matching or a pareto-optimal matching that is also agent complete. Additionally, the fact that students can supply incomplete preference lists can very well lead to matchings that leave a few students unassigned, even if the sum of the capacity of all seminars is greater than the number of students. Given these constraints and observations, we will see that there is no such thing as an ideal matching for all instances based on the criteria we have presented. However, it will be possible to find matchings that will optimize for most of the optimality criteria.